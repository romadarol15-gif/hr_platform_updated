* {margin: 0; padding: 0; box-sizing: border-box;}

:root {
    --primary-color: #4f46e5;
    --primary-hover: #4338ca;
    --success-color: #10b981;
    --danger-color: #ef4444;
    --warning-color: #f59e0b;
    --info-color: #3b82f6;
    --bg-body: #f9fafb;
    --bg-card: #ffffff;
    --text-primary: #111827;
    --text-secondary: #6b7280;
    --border-color: #e5e7eb;
    --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: var(--bg-body);
    color: var(--text-primary);
    line-height: 1.6;
}

.navbar {background-color: var(--bg-card); border-bottom: 1px solid var(--border-color); box-shadow: var(--shadow); position: sticky; top: 0; z-index: 100;}
.nav-container {max-width: 1200px; margin: 0 auto; padding: 1rem 2rem; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap;}
.nav-brand h1 {font-size: 1.5rem; color: var(--primary-color);}
.nav-menu {display: flex; list-style: none; gap: 2rem;}
.nav-menu a {text-decoration: none; color: var(--text-secondary); font-weight: 500; transition: color 0.2s;}
.nav-menu a:hover, .nav-menu a.active {color: var(--primary-color);}
.nav-user {display: flex; align-items: center; gap: 1rem;}
.user-name {font-weight: 500; color: var(--text-primary);}
.btn-logout {padding: 0.5rem 1rem; background-color: var(--danger-color); color: white; text-decoration: none; border-radius: 0.375rem; font-size: 0.875rem; transition: background-color 0.2s;}
.btn-logout:hover {background-color: #dc2626;}

/* Поиск сотрудников */
.search-container {position: relative;}
.search-input {padding: 0.5rem 1rem; border: 1px solid var(--border-color); border-radius: 0.375rem; font-size: 0.875rem; width: 250px;}
.search-results {position: absolute; top: 100%; left: 0; right: 0; background: white; border: 1px solid var(--border-color); border-radius: 0.375rem; margin-top: 0.25rem; max-height: 300px; overflow-y: auto; box-shadow: var(--shadow-lg); display: none; z-index: 1000;}
.search-results.active {display: block;}
.search-result-item {padding: 0.75rem 1rem; cursor: pointer; border-bottom: 1px solid var(--border-color); transition: background-color 0.2s;}
.search-result-item:hover {background-color: var(--bg-body);}
.search-result-item strong {display: block; color: var(--text-primary);}
.search-result-item small {color: var(--text-secondary);}

.main-content {max-width: 1200px; margin: 2rem auto; padding: 0 2rem; min-height: calc(100vh - 200px);}
.container {max-width: 1000px; margin: 0 auto;}

.btn {padding: 0.625rem 1.25rem; border: none; border-radius: 0.375rem; font-size: 1rem; font-weight: 500; cursor: pointer; transition: all 0.2s; text-decoration: none; display: inline-block;}
.btn-primary {background-color: var(--primary-color); color: white;}
.btn-primary:hover {background-color: var(--primary-hover);}
.btn-secondary {background-color: var(--primary-color); color: white;}
.btn-secondary:hover {background-color: var(--primary-hover);}
.btn-success {background-color: var(--success-color); color: white;}
.btn-success:hover {background-color: #059669;}
.btn-danger {background-color: var(--danger-color); color: white;}
.btn-danger:hover {background-color: #dc2626;}
.btn-sm {padding: 0.375rem 0.875rem; font-size: 0.875rem;}
.btn-full-width {width: 100%;}

.form-control {width: 100%; padding: 0.625rem; border: 1px solid var(--border-color); border-radius: 0.375rem; font-size: 1rem; transition: border-color 0.2s;}
.form-control:focus {outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);}
textarea.form-control {resize: vertical; min-height: 100px;}
.form-group {margin-bottom: 1.5rem;}
.form-group label {display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-primary);}
.form-hint {display: block; margin-top: 0.25rem; font-size: 0.875rem; color: var(--text-secondary);}
.form-text {display: block; margin-top: 0.25rem; font-size: 0.875rem;}
.text-muted {color: var(--text-secondary);}
.form-grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;}
.form-container {background-color: var(--bg-card); padding: 2rem; border-radius: 0.75rem; box-shadow: var(--shadow);}
.form-standard {max-width: 800px; margin: 0 auto;}
.form-section {margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid var(--border-color);}
.form-section:last-child {border-bottom: none; margin-bottom: 0; padding-bottom: 0;}
.form-section h3 {margin-bottom: 1.5rem; color: var(--primary-color);}

.messages {margin-bottom: 1.5rem;}
.alert {padding: 1rem; border-radius: 0.375rem; margin-bottom: 1rem;}
.alert-success {background-color: #d1fae5; color: #065f46; border: 1px solid #10b981;}
.alert-error {background-color: #fee2e2; color: #991b1b; border: 1px solid #ef4444;}
.alert-warning {background-color: #fef3c7; color: #92400e; border: 1px solid #f59e0b;}
.alert-info {background-color: #dbeafe; color: #1e40af; border: 1px solid #3b82f6;}

.login-container {display: flex; justify-content: center; align-items: center; min-height: 80vh;}
.login-card {background-color: var(--bg-card); padding: 2.5rem; border-radius: 0.75rem; box-shadow: var(--shadow-lg); width: 100%; max-width: 400px;}
.login-card h2 {text-align: center; margin-bottom: 2rem; color: var(--primary-color);}
.login-hint {margin-top: 1.5rem; text-align: center; color: var(--text-secondary);}

.welcome-section {background-color: var(--bg-card); padding: 2rem; border-radius: 0.75rem; box-shadow: var(--shadow); margin-bottom: 2rem;}
.welcome-section h2 {color: var(--primary-color); margin-bottom: 0.5rem;}

.dashboard-grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 2rem;}
.dashboard-card {background-color: var(--bg-card); padding: 1.5rem; border-radius: 0.75rem; box-shadow: var(--shadow);}
.dashboard-card h3 {margin-bottom: 1rem; color: var(--text-primary);}

.tracker-active {background-color: #d1fae5; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;}
.tracker-inactive {background-color: var(--bg-body); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;}
.status-active {color: var(--success-color); font-weight: 600; margin-bottom: 0.5rem;}
.status-inactive {color: var(--text-secondary); margin-bottom: 0.5rem;}
.time-info {margin: 0.5rem 0; color: var(--text-primary);}
.time-worked {margin: 0.5rem 0; font-size: 1.25rem; color: var(--primary-color);}

.task-list-mini {list-style: none; margin-bottom: 1rem;}
.task-list-mini li {padding: 0.75rem; background-color: var(--bg-body); border-radius: 0.375rem; margin-bottom: 0.5rem;}

.badge {display: inline-block; padding: 0.25rem 0.75rem; border-radius: 0.25rem; font-size: 0.875rem; font-weight: 500; margin-right: 0.5rem;}
.badge-new {background-color: #dbeafe; color: #1e40af;}
.badge-in_progress {background-color: #fef3c7; color: #92400e;}
.badge-done {background-color: #d1fae5; color: #065f46;}
.badge-overdue {background-color: #fee2e2; color: #991b1b;}

.page-header {display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;}

/* Профиль с аватаркой */
.profile-header {margin-bottom: 2rem;}
.profile-section {background-color: var(--bg-card); padding: 2rem; border-radius: 0.75rem; box-shadow: var(--shadow); margin-bottom: 2rem;}
.profile-avatar-section {display: flex; gap: 2rem; align-items: center; margin-bottom: 2rem; padding-bottom: 2rem; border-bottom: 1px solid var(--border-color);}
.profile-avatar {width: 120px; height: 120px; border-radius: 50%; object-fit: cover; box-shadow: var(--shadow);}
.profile-avatar-placeholder {width: 120px; height: 120px; border-radius: 50%; background: var(--primary-color); display: flex; align-items: center; justify-content: center; color: white; font-size: 2.5rem; font-weight: 600;}
.profile-info-short h3 {margin-bottom: 0.5rem;}
.profile-info-short .position {font-size: 1.125rem; color: var(--primary-color); margin-bottom: 0.25rem;}
.profile-info-short .department {color: var(--text-secondary); margin-bottom: 0.25rem;}
.profile-info-short .employee-number {color: var(--text-secondary); font-size: 0.875rem;}

/* Образование */
.education-section {background-color: var(--bg-card); padding: 2rem; border-radius: 0.75rem; box-shadow: var(--shadow); margin-bottom: 2rem;}
.section-header {display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;}
.education-list {display: flex; flex-direction: column; gap: 1rem;}
.education-card {padding: 1.5rem; background-color: var(--bg-body); border-radius: 0.5rem; border: 1px solid var(--border-color);}
.education-header {display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;}
.education-header h4 {margin: 0;}
.diploma-file {margin-top: 0.5rem; padding-top: 0.5rem; border-top: 1px solid var(--border-color);}
.diploma-file a {color: var(--primary-color); text-decoration: none;}
.diploma-file a:hover {text-decoration: underline;}
.education-actions {margin-top: 1rem; display: flex; gap: 0.5rem; align-items: stretch;}
.education-actions .btn-sm {min-height: 2rem; display: inline-flex; align-items: center; justify-content: center;}
.education-actions form {display: inline-block;}

/* Задачи */
.tasks-list {display: flex; flex-direction: column; gap: 1rem;}
.task-card {background-color: var(--bg-card); padding: 1.5rem; border-radius: 0.75rem; box-shadow: var(--shadow);}
.task-header {display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;}
.task-header h3 {display: flex; align-items: center; gap: 0.5rem; margin: 0;}
.task-id {font-family: 'Courier New', monospace; color: var(--text-secondary); font-size: 0.875rem; font-weight: 600; background-color: var(--bg-body); padding: 0.125rem 0.5rem; border-radius: 0.25rem;}
.task-meta {display: flex; flex-wrap: wrap; gap: 1.5rem; margin-top: 1rem; font-size: 0.875rem; color: var(--text-secondary);}
.task-related-request {margin-top: 0.5rem; padding: 0.5rem; background-color: var(--bg-body); border-radius: 0.375rem;}
.task-card .btn {margin-top: 1.5rem;}

.form-card {background-color: var(--bg-card); padding: 2rem; border-radius: 0.75rem; box-shadow: var(--shadow);}
.form-actions {display: flex; gap: 1rem; margin-top: 2rem;}

.work-section {background-color: var(--bg-card); padding: 1.5rem; border-radius: 0.75rem; box-shadow: var(--shadow); margin-bottom: 2rem;}

.table {width: 100%; border-collapse: collapse;}
.table thead {background-color: var(--bg-body);}
.table th, .table td {padding: 0.75rem; text-align: left; border-bottom: 1px solid var(--border-color);}

.requests-list {display: flex; flex-direction: column; gap: 1rem;}
.request-card {padding: 1rem; background-color: var(--bg-body); border-radius: 0.375rem;}
.request-header {display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;}
.related-task {margin-top: 0.5rem; padding: 0.5rem; background-color: white; border-radius: 0.25rem;}

.info-box {background-color: #dbeafe; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1.5rem; border-left: 4px solid var(--info-color);}

@media (max-width: 768px) {
    .nav-container {flex-direction: column; gap: 1rem;}
    .nav-menu {flex-direction: column; gap: 0.5rem;}
    .dashboard-grid {grid-template-columns: 1fr;}
    .form-grid {grid-template-columns: 1fr;}
    .page-header {flex-direction: column; gap: 1rem; align-items: flex-start;}
    .profile-avatar-section {flex-direction: column; text-align: center;}
    .search-input {width: 100%;}
}
