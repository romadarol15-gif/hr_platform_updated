{% extends "base.html" %}
{% block content %}
<div class="container">
<div class="form-header">
<h2>{{ title }}</h2>
</div>
<form method="post" enctype="multipart/form-data" class="standard-form">
{% csrf_token %}

<div class="form-group">
<label for="{{ form.name.id_for_label }}">{{ form.name.label }}</label>
{{ form.name }}
{% if form.name.errors %}
<div class="error-message">{{ form.name.errors.0 }}</div>
{% endif %}
{% if form.name.help_text %}
<small class="form-text text-muted">{{ form.name.help_text }}</small>
{% endif %}
</div>

<div class="form-group">
<label for="{{ form.comment.id_for_label }}">{{ form.comment.label }}</label>
{{ form.comment }}
{% if form.comment.errors %}
<div class="error-message">{{ form.comment.errors.0 }}</div>
{% endif %}
{% if form.comment.help_text %}
<small class="form-text text-muted">{{ form.comment.help_text }}</small>
{% endif %}
</div>

<div class="form-group">
<label for="{{ form.file.id_for_label }}">{{ form.file.label }}</label>
{{ form.file }}
{% if form.file.errors %}
<div class="error-message">{{ form.file.errors.0 }}</div>
{% endif %}
{% if form.file.help_text %}
<small class="form-text text-muted">{{ form.file.help_text }}</small>
{% endif %}
{% if document and document.file %}
<p class="form-hint" style="margin-top: 0.5rem;">Текущий файл: <a href="{{ document.file.url }}" target="_blank">{{ document.name }}</a> ({{ document.get_file_size_mb }} МБ)</p>
{% endif %}
</div>

<div class="form-actions">
<button type="submit" class="btn btn-primary">Сохранить</button>
<a href="{% url 'hr:profile' %}" class="btn btn-danger">Отмена</a>
</div>
</form>
</div>
{% endblock %}